<!DOCTYPE html>
<head>
    <title>Ricky c3.js example</title>
</head>
<body style="background-color:#fbf0d1;">
    <h1 style="color:#655f5f">Ricky c3.js click button to add a random data</h1>
    <div id="ricky-plot1" style="height:100%;width:100%;"></div>
    <button id="addData_Button" style="width:20%;background-color: #fbf0d1;">
    <img src="run.png" style="width:25%;">
    <div style="color:#655f5f"><h3>click this button to add a random data </h3></div>
    </button>
</body>

<!-- 載入c3.css -->
<link href="c3.css" rel="stylesheet">
<!-- 載入javascript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.18/c3.js"></script>

<script>
    //xxx data
    var xxx = ['x',563.44 
,560.85 
,563.43 
,567.70 
,572.89 
,573.26 
,583.51 
,595.27 
,617.68 
,648.48 
,699.68 
,780.47 
,908.91 
,1079.00 
,1375.00 
,1774.00 
,2355.00 
,3159.00 
,4134.00 
,5230.00 
,6379.00 
,7424.00 
,8339.00 
,9081.00 
,9539.00 
,9868.00 
,10030.00 
,10270.00 
,10360.00 
,10480.00 
,10440.00 
,10470.00 
,10490.00 
,10560.00 
,10560.00 
,10570.00 
,10500.00 
,10510.00 
,10510.00 
,10510.00 
,10580.00 
,10580.00 
,10580.00 
,10510.00 
,10580.00 
,10450.00 
,10380.00 
,10510.00 
,10510.00 
,10510.00 
,10510.00  ];
    //yyy data
    var yyy = ["data1", 97.34 
,131.24 
,167.25 
,218.21 
,278.01 
,354.95 
,450.37 
,563.64 
,718.30 
,898.97 
,1131.00 
,1427.00 
,1771.00 
,2197.00 
,2686.00 
,3248.00 
,3803.00 
,4345.00 
,4743.00 
,4949.00 
,4879.00 
,4599.00 
,4073.00 
,3533.00 
,2915.00 
,2436.00 
,1989.00 
,1621.00 
,1257.00 
,1001.00 
,827.82 
,607.22 
,464.02 
,350.53 
,298.07 
,268.08 
,167.36 
,152.43 
,130.04 
,52.33 
,88.01 
,25.21 
,40.25 
,40.45 
,55.29 
,(-14.88)
,(-7.39)
,6.23 
,36.10 
,(-11.82)
,10.55   ]      

var chart1 = c3.generate({
  bindto: "#ricky-plot1",
  data: {
    x:'x',
    data1:'data1',
    columns: [
      xxx,
      yyy,
    ]
    ,
    //自訂圖表類型
    types: {
      data1: "spline", //指定 data1 的圖表類型
    },
    //自訂 data 顏色
    colors: {
      data1: "#e94441",
    },
  },
  legend: {
    show: true, //是否顯示項目
  },
  //點點大小
  point: {
    r:5,
  },
  //zoom by mouse wheel event and slide by drag
  zoom:{
    enabled:true
  },
  axis: {
    //X 軸內容
    x: {
      tick: {
        rotate: 0,
        multiline: false,
      },
      label: {
        text: "x-axis",
        position:"outer-middle",
      },
    },
    //Y 軸內容
    y: {
      label:{
        text: "y-axis",
        position: "outer-middle", 
      },
    },
  },
  //網格是否開啟
  grid:{
    x:{
      show:true
    },
    y:{
      show:true
    },
  }
});

const addData = document.getElementById('addData_Button');

//按按鍵可以重新畫圖
addData.addEventListener('click', function () {
  //xxx和yyy都重新加入random值
    xxx.push(Math.random()*10000);
    yyy.push(Math.random()*10000);
    chart1.load({
        columns: [
          xxx,
          yyy,
        ]
    });
});

</script>